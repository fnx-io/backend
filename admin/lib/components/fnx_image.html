<div class="flex--row">
    <a class="border margin--right panel shadow shadow--raising " *ngIf="value != null" (click)="showImageDetail($event)">
        <img [attr.src]="value" style="height: 10em">
    </a>
    <div>
        <button data-suffix="open_in_new" class="btn margin--small--bottom" (click)="openImagePicker($event)">Choose image</button><br>
        <button data-suffix="delete" class="btn" (click)="removeImage()" *ngIf="value != null">Remove</button>
    </div>
    <span class="spacer"></span>
</div>

<fnx-modal *ngIf="openPicker && !disabled && !readonly" (close)="closeImagePicker()">
    <h3 header>Choose or upload an image</h3>
    <div main style="min-height: 50vh; height: 100%">
        <fnx-gallery-picker (picked)="pickedImage($event)" [imageSet]="imageSet"></fnx-gallery-picker>
    </div>
    <div footer class="flex--row padding--top">
        &nbsp;
    </div>
</fnx-modal>


<fnx-modal *ngIf="openDetail && !disabled && !readonly" (close)="openDetail = false">
    <h3 header>Image</h3>
    <div main>
        <img [attr.src]="value">
    </div>
    <div footer class="flex--row border--top padding--vertical">
        <a target="_blank" [attr.href]="value" class="btn" download>Download</a>
        <span class="spacer"></span>
        <button class="btn" (click)="openDetail = false">Close</button>
    </div>
</fnx-modal>