<div class="padding">
    <fnx-form (submit)="saveUser($event)" *ngIf="entity != null">
        <div style="max-width: 50em;">

            <fnx-input label="User's first name" [required]="true">
                <fnx-text [(ngModel)]="entity['firstName']"></fnx-text>
            </fnx-input>

            <fnx-input label="User's last name" [required]="true">
                <fnx-text [(ngModel)]="entity['lastName']"></fnx-text>
            </fnx-input>

            <fnx-input label="User's email" [required]="true">
                <fnx-text [(ngModel)]="entity['email']"></fnx-text>
            </fnx-input>

            <fnx-input label="Role" *ngIf="creating">
                <fnx-select [(ngModel)]="entity['role']" [required]="true">
                    <fnx-option [value]="null" label="Select appropriate role"></fnx-option>
                    <fnx-option *ngFor="let r of roles" [value]="r.value" [label]="r.label"></fnx-option>
                </fnx-select>
            </fnx-input>

            <fnx-input label="Password" errorMessage="Password is required and must be at least 6 characters long">
                <fnx-text [(ngModel)]="entity['password']" type="password" [required]="creating" [minLength]="6"></fnx-text>
            </fnx-input>

            <p *ngIf="!creating">Fill the password only if you want to change it.</p>

        </div>
        <fnx-submit-bar [back]="true"></fnx-submit-bar>
    </fnx-form>
</div>