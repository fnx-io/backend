<div class="flex--column fit">
    <nav class="navbar bg--blue">
        <h2>Správci a operátoři</h2>
        <span class="spacer"></span>
        <button class="btn" data-prefix="add" (click)="createUser()" *ngIf="ctx.loggedUser != null">Přidat</button>
    </nav>
    <fnx-scroll-panel (loadMore)="listing.loadNextPage()" class="flex--grow flex--shrink padding">
        <table class="table--stripes" *ngIf="!listing.isEmpty()">
            <thead>
            <tr>
                <th colspan="2">Name</th>
                <th>Email</th>
                <th>Role</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let u of listing.list">
                <td>{{ u['firstName'] }}</td>
                <td>{{ u['lastName'] }}</td>
                <td><a class="underline" href="mailto:{{ u['email'] }}">{{ u['email'] }}</a></td>
                <td>{{ roles[u['role']].label }}</td>
                <td><a class="btn" (click)="goToDetail(u);">edit</a></td>
            </tr>
            </tbody>
        </table>
    </fnx-scroll-panel>
</div>
